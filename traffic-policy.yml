on_http_request:
  - name: Block requests from unauthorized origins
    expressions:
      - |
          !(
            'https://operator.becomeomni.com' in req.headers['origin'] ||
            'https://operator.staging.becomeomni.com' in req.headers['origin'] ||
            'https://dev1.operator.becomeomni.com' in req.headers['origin'] ||
            'localhost' in req.headers['origin']
          )
    actions:
      - type: deny

  - name: Add `robots.txt` to deny all bots and crawlers
    expressions:
      - req.url.contains('/robots.txt')
    actions:
      - type: custom-response
        config:
          status_code: 200
          body: "User-agent: *\r\nDisallow: /"
          headers:
            content-type: text/plain
